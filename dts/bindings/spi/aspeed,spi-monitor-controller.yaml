# Copyright (c) 2021 Chin-Ting Kuo <chin-ting_kuo@aspeedtech.com>
# SPDX-License-Identifier: Apache-2.0

description: ASPEED SPI Monitor controller node

compatible: "aspeed,spi-monitor-controller"

include: [base.yaml, aspeed-pinctrl.yaml]

properties:
  reg:
    required: true

  aspeed,scu:
    type: phandle
    required: true
    description: phandle to SCU device tree node

  valid-cmds:
    type: uint8-array
    required: true
    description: |
      Assign the commands which should be filled
      in valid list table.

      [cmd1 cmd2 ... cmdN];

  write-forbidden-regions:
    type: array
    required: false
    description: |
      Assign the start address and the length of regions
      which cannot be written.
      The regions cannot be overlapped.

      <start_address_1 length_1
      start_address_2 length_2
      ...
      start_address_N length_N>;

  read-forbidden-regions:
    type: array
    required: false
    description: |
      Assign the start address and the length of regions
      which cannot be read.
      The regions cannot be overlapped.

      <start_address_1 length_1
      start_address_2 length_2
      ...
      start_address_N length_N>;

  log-ram-info:
    type: array
    required: true
    description: |
      The ram start address and the length
      for recording log if there is an invalid
      SPI flash access and the related interrupt occurs.

      <ram_start_address length>;

  spi-monitor-idx:
    type: int
    required: true
    description: Record the index(number) of SPI monitor controller.

  multi-passthrough:
    type: boolean
    required: false
    description: |
      Enable multiple passthrough, otherwise, single
      passthrough mode is used by default.
